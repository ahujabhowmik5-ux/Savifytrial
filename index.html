<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Savify â€” The Waitlist</title>
    <link rel="icon" href="https://i.ibb.co/7tPC6B2r/gemini-2-5-flash-image-Make-this-Savify-S-logo-fully-flat-no-gradients-with-two-solid-tones-of-gr.jpg" type="image/jpeg">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Playfair+Display:wght@500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vanilla-tilt/1.8.0/vanilla-tilt.min.js"></script>

    <style>
        :root {
            --bg-deep: #050505;
            --primary: #10B981; 
            --primary-light: #34D399;
            --primary-dark: #059669;
            --primary-glow: rgba(16, 185, 129, 0.4);
            --gold: #FFD700;
            --gold-light: #FFED4E;
            --text-main: #FFFFFF;
            --text-light: #E5E7EB;
            --text-muted: #9ca3af;
            --glass-border: rgba(255, 255, 255, 0.1);
            --glass-bg: rgba(15, 15, 15, 0.7);
            --mouse-x: 50%;
            --mouse-y: 50%;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-deep);
            color: var(--text-main);
            min-height: 100vh;
            width: 100vw;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: auto;
            position: relative;
            cursor: none;
            transition: filter 1.5s cubic-bezier(0.23, 1, 0.32, 1);
            padding: 20px;
        }

        /* --- BACKGROUND LAYERS --- */
        #canvas-bg {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            z-index: 1; pointer-events: none;
        }

        .bg-noise {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0MDAiIGhlaWdodD0iNDAwIj48ZmlsdGVyIGlkPSJhIj48ZmVUdXJYdWxlbmNlIGJhc2VGcmVxdWVuY3k9IjAuNjUiIG51bU9jdGF2ZXM9IjMiIHJlc3VsdD0ibm9pc2UiIHN0eWxlPSJjb2xvci1pbnRlcnBvbGF0aW9uLWZpbHRlcnM6c1JHQiIvPjxmZUNvbG9yTWF0cml4IGluPSJub2lzZSIgdHlwZT0ibWF0cml4IiB2YWx1ZXM9IjAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAuMDUgMCIvPjwvZmlsdGVyPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbHRlcj0idXJsKCNhKSIvPjwvc3ZnPg==');
            opacity: 0.4; z-index: 2; pointer-events: none;
        }

        .grid-overlay {
            position: fixed; top: 0; left: 0; width: 200%; height: 200%;
            background-image: 
                linear-gradient(rgba(255, 255, 255, 0.03) 1px, transparent 1px),
                linear-gradient(90deg, rgba(255, 255, 255, 0.03) 1px, transparent 1px);
            background-size: 50px 50px;
            transform: perspective(500px) rotateX(60deg) translateY(-100px) translateZ(-100px);
            animation: gridMove 20s linear infinite;
            z-index: 0; pointer-events: none;
            mask-image: linear-gradient(to bottom, transparent, black 40%, black 80%, transparent);
        }

        @keyframes gridMove {
            0% { transform: perspective(500px) rotateX(60deg) translateY(0) translateZ(-100px); }
            100% { transform: perspective(500px) rotateX(60deg) translateY(50px) translateZ(-100px); }
        }

        .mouse-spotlight {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            z-index: 3;
            background: radial-gradient(800px circle at var(--mouse-x) var(--mouse-y), 
                       rgba(16, 185, 129, 0.15), 
                       rgba(255, 215, 0, 0.05) 30%, 
                       transparent 70%);
            pointer-events: none;
        }

        /* --- CUSTOM CURSOR --- */
        .cursor-dot, .cursor-circle {
            position: fixed; top: 0; left: 0;
            transform: translate(-50%, -50%); border-radius: 50%; z-index: 9999; pointer-events: none;
        }
        .cursor-dot { width: 8px; height: 8px; background: var(--primary); }
        .cursor-circle { width: 40px; height: 40px; border: 1px solid var(--primary); transition: all 0.2s cubic-bezier(0.23, 1, 0.32, 1); }
        body.hovering .cursor-circle { width: 60px; height: 60px; background-color: rgba(16, 185, 129, 0.1); border-color: var(--gold); }

        /* --- GLASS CARD --- */
        .glass-card {
            position: relative; z-index: 10;
            background: var(--glass-bg); 
            border: 1px solid var(--glass-border);
            box-shadow: 0 40px 80px -20px rgba(0,0,0,0.8), 
                       inset 0 0 0 1px rgba(255,255,255,0.05),
                       0 0 60px rgba(16, 185, 129, 0.1);
            backdrop-filter: blur(24px); 
            -webkit-backdrop-filter: blur(24px);
            padding: 3.5rem 3rem; 
            border-radius: 24px;
            width: 100%; 
            max-width: 480px;
            transform-style: preserve-3d; 
            transition: transform 0.1s, box-shadow 0.3s;
            overflow: hidden;
        }

        .glass-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 1px;
            background: linear-gradient(90deg, 
                       transparent, 
                       var(--primary), 
                       var(--gold), 
                       var(--primary), 
                       transparent);
            opacity: 0.6;
            z-index: 1;
        }

        .brand-header { 
            text-align: center; 
            margin-bottom: 1.5rem; 
            transform: translateZ(40px); 
        }
        
        .logo-icon { 
            font-size: 3rem; 
            color: var(--primary); 
            margin-bottom: 1rem; 
            filter: drop-shadow(0 0 20px var(--primary-glow));
            transition: transform 0.3s ease;
        }

        .logo-icon:hover {
            transform: scale(1.1) rotate(10deg);
        }
        
        h1.brand-name {
            font-family: 'Playfair Display', serif; 
            font-size: 3.8rem; 
            font-weight: 700; 
            margin: 0 0 0.5rem 0;
            background: linear-gradient(135deg, var(--primary) 0%, var(--gold) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            letter-spacing: -0.5px;
        }

        .subtitle { 
            color: var(--text-light); 
            font-size: 1rem; 
            letter-spacing: 3px; 
            text-transform: uppercase; 
            font-weight: 500; 
            margin-bottom: 0.5rem;
        }

        .description {
            color: var(--text-muted);
            font-size: 0.95rem;
            line-height: 1.6;
            text-align: center;
            margin-bottom: 2.5rem;
            padding: 0 1rem;
        }

        .highlight-text {
            color: var(--primary-light);
            font-weight: 600;
        }

        /* --- WAITLIST TEXT --- */
        .waitlist-text {
            text-align: center;
            margin-bottom: 2rem;
            transform: translateZ(30px);
        }

        .waitlist-text h2 {
            font-family: 'Playfair Display', serif;
            font-size: 2rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
            background: linear-gradient(135deg, var(--gold-light) 0%, var(--primary-light) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .waitlist-text p {
            color: var(--text-muted);
            font-size: 0.95rem;
            line-height: 1.5;
        }

        /* --- INPUTS --- */
        .input-group { 
            position: relative; 
            margin-bottom: 1.8rem; 
            transform: translateZ(20px); 
        }
        
        .input-field {
            width: 100%; 
            background: rgba(255, 255, 255, 0.04); 
            border: 1px solid var(--glass-border);
            border-radius: 12px; 
            padding: 1.2rem 1rem 0.6rem 1rem; 
            height: 64px;
            font-size: 1rem; 
            color: var(--text-main); 
            outline: none;
            transition: all 0.3s cubic-bezier(0.23, 1, 0.32, 1);
            font-family: 'Inter', sans-serif;
        }

        .input-field:hover {
            border-color: rgba(255, 255, 255, 0.2);
            background: rgba(255, 255, 255, 0.06);
        }

        .input-label {
            position: absolute; 
            left: 1rem; 
            top: 50%; 
            transform: translateY(-50%);
            color: var(--text-muted); 
            font-size: 1rem; 
            pointer-events: none;
            transition: all 0.3s cubic-bezier(0.23, 1, 0.32, 1);
        }

        .input-field:focus, .input-field:not(:placeholder-shown) {
            border-color: var(--primary); 
            background: rgba(16, 185, 129, 0.08);
            padding-top: 1.6rem; 
            padding-bottom: 0.4rem; 
            box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.1),
                       inset 0 0 20px rgba(16, 185, 129, 0.05);
        }

        .input-field:focus ~ .input-label, .input-field:not(:placeholder-shown) ~ .input-label {
            top: 0.8rem; 
            font-size: 0.75rem; 
            color: var(--primary); 
            font-weight: 600; 
            letter-spacing: 0.5px;
        }

        /* --- BUTTON --- */
        .submit-btn {
            width: 100%; 
            height: 64px; 
            margin-top: 0.5rem;
            border: none; 
            border-radius: 12px;
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: white; 
            font-size: 1.1rem; 
            font-weight: 600;
            cursor: none; 
            position: relative; 
            overflow: hidden;
            transform: translateZ(30px); 
            transition: all 0.3s cubic-bezier(0.23, 1, 0.32, 1);
            box-shadow: 0 10px 30px rgba(16, 185, 129, 0.3),
                        inset 0 1px 0 rgba(255, 255, 255, 0.2);
            font-family: 'Inter', sans-serif;
        }

        .submit-btn::before {
            content: ''; 
            position: absolute; 
            top: 0; 
            left: -100%; 
            width: 100%; 
            height: 100%;
            background: linear-gradient(90deg, 
                       transparent, 
                       rgba(255, 255, 255, 0.2), 
                       transparent);
            transition: 0.6s;
        }

        .submit-btn:hover::before { 
            left: 100%; 
        }

        .submit-btn:hover { 
            transform: translateZ(35px) translateY(-2px); 
            box-shadow: 0 15px 40px rgba(16, 185, 129, 0.4),
                        inset 0 1px 0 rgba(255, 255, 255, 0.3);
            background: linear-gradient(135deg, var(--primary-light) 0%, var(--primary) 100%);
        }

        .submit-btn:active {
            transform: translateZ(30px) translateY(0);
            box-shadow: 0 5px 20px rgba(16, 185, 129, 0.3);
        }

        .btn-content { 
            display: flex; 
            align-items: center; 
            justify-content: center; 
            gap: 12px; 
            width: 100%; 
            height: 100%;
            position: relative;
            z-index: 2;
        }

        .btn-content i {
            transition: transform 0.3s ease;
        }

        .submit-btn:hover .btn-content i {
            transform: translateX(5px);
        }

        /* --- STATUS & EFFECTS --- */
        .status-wrapper { 
            height: 24px; 
            margin-top: 1.5rem; 
            perspective: 1000px; 
        }

        .status-msg { 
            font-size: 0.95rem; 
            text-align: center; 
            opacity: 0; 
            transform: rotateX(-90deg); 
            transform-origin: top; 
            transition: all 0.5s cubic-bezier(0.23, 1, 0.32, 1); 
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .status-msg.visible { 
            opacity: 1; 
            transform: rotateX(0deg); 
        }

        .status-msg.success { 
            color: var(--primary); 
            text-shadow: 0 0 10px rgba(16,185,129,0.3); 
        }

        .status-msg.error { 
            color: #ff6b6b; 
        }

        .loader {
            display: none; 
            width: 24px; 
            height: 24px; 
            border: 3px solid rgba(255,255,255,0.3);
            border-top-color: #fff; 
            border-radius: 50%; 
            animation: spin 0.8s linear infinite;
        }

        @keyframes spin { 
            to { 
                transform: rotate(360deg); 
            } 
        }

        /* Distortion Classes */
        body.distortion-active { 
            filter: hue-rotate(90deg) contrast(150%); 
            animation: timeDilation 2s cubic-bezier(0.23, 1, 0.32, 1) forwards; 
        }

        @keyframes timeDilation { 
            0% { filter: hue-rotate(0deg) contrast(100%); } 
            30% { filter: hue-rotate(180deg) contrast(200%) blur(1px); } 
            100% { filter: hue-rotate(0deg) contrast(100%); } 
        }
        
        .reality-crack {
            position: fixed; 
            top: 0; 
            left: 0; 
            width: 100%; 
            height: 100%; 
            z-index: 9;
            pointer-events: none; 
            opacity: 0;
            background-image: linear-gradient(45deg, transparent 49%, rgba(255, 255, 255, 0.1) 50%, transparent 51%);
            background-size: 60px 60px; 
            mix-blend-mode: overlay;
        }

        .bass-drop {
            position: fixed; 
            top: 50%; 
            left: 50%; 
            width: 0; 
            height: 0;
            border-radius: 50%; 
            background: radial-gradient(circle, transparent 0%, var(--primary) 100%);
            z-index: 8; 
            pointer-events: none; 
            opacity: 0; 
            transform: translate(-50%, -50%); 
            mix-blend-mode: screen;
        }

        /* --- FOOTER --- */
        .footer {
            margin-top: 2.5rem;
            text-align: center;
            color: var(--text-muted);
            font-size: 0.85rem;
            transform: translateZ(20px);
        }

        .footer span {
            opacity: 0.7;
        }

        /* --- RESPONSIVE --- */
        @media (max-width: 600px) { 
            body {
                padding: 15px;
            }
            
            .glass-card { 
                margin: 1rem; 
                padding: 2.5rem 2rem; 
                max-width: 100%;
            } 
            
            h1.brand-name { 
                font-size: 3rem; 
            }
            
            .logo-icon {
                font-size: 2.5rem;
            }
            
            .waitlist-text h2 {
                font-size: 1.7rem;
            }
            
            .subtitle {
                font-size: 0.9rem;
                letter-spacing: 2px;
            }
            
            .description {
                font-size: 0.9rem;
                padding: 0;
            }
        }

        @media (max-width: 400px) {
            .glass-card { 
                padding: 2rem 1.5rem; 
            }
            
            h1.brand-name { 
                font-size: 2.5rem; 
            }
            
            .waitlist-text h2 {
                font-size: 1.5rem;
            }
        }
    </style>
</head>
<body>

    <div class="bg-noise"></div>
    <div class="grid-overlay"></div>
    <div class="mouse-spotlight"></div>
    <canvas id="canvas-bg"></canvas>
    
    <div class="reality-crack" id="realityCrack"></div>
    <div class="bass-drop" id="bassDrop"></div>

    <div class="cursor-dot"></div>
    <div class="cursor-circle"></div>

    <div class="glass-card" id="tiltCard" data-tilt data-tilt-max="8" data-tilt-speed="400" data-tilt-glare data-tilt-max-glare="0.15">
        
        <div class="brand-header">
            <div class="logo-icon"><i class="fas fa-chart-pie"></i></div>
            <h1 class="brand-name" id="reactiveTitle">Savify</h1>
            <p class="subtitle">Financial Intelligence</p>
            <p class="description">AI-powered insights for smarter financial decisions</p>
        </div>

        <!-- ADDED WAITLIST TEXT SECTION -->
        <div class="waitlist-text">
            <h2>Join The Waitlist</h2>
            <p>Get <span class="highlight-text">early access</span> to our revolutionary financial intelligence platform.<br>
            Be among the first to experience smarter money management.</p>
        </div>

        <form id="waitlistForm">
            <div class="input-group">
                <input type="text" id="fullName" class="input-field" placeholder=" " required autocomplete="name">
                <label class="input-label">Full Name</label>
            </div>

            <div class="input-group">
                <input type="email" id="email" class="input-field" placeholder=" " required autocomplete="email">
                <label class="input-label">Email Address</label>
            </div>

            <button type="submit" class="submit-btn hover-trigger">
                <div class="btn-content" id="btnContent">
                    <span>Get Early Access</span>
                    <i class="fas fa-arrow-right"></i>
                </div>
                <div class="loader" id="loader"></div>
            </button>
        </form>

        <div class="status-wrapper">
            <div id="statusMsg" class="status-msg"></div>
        </div>

        <!-- ADDED FOOTER -->
        <div class="footer">
            <span>Limited spots available â€¢ Join today</span>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // --- 1. CONFIGURATION ---
            const SUPABASE_URL = 'https://zipowqnjznngzyxdtxwm.supabase.co';
            const SUPABASE_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InppcG93cW5qem5uZ3p5eGR0eHdtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njc2NzEyNTQsImV4cCI6MjA4MzI0NzI1NH0.6OKydmyzpbtyWG7GzTSnXwudwBABsFVWiNfX4G7II3g';
            
            let supabase;
            try {
                if(window.supabase) {
                    supabase = window.supabase.createClient(SUPABASE_URL, SUPABASE_KEY);
                } else {
                    console.error("Supabase not loaded");
                }
            } catch(e) { console.error("Init Error", e); }

            // --- 2. CUSTOM CURSOR & MOUSE TRACKING ---
            const cursorDot = document.querySelector('.cursor-dot');
            const cursorCircle = document.querySelector('.cursor-circle');
            const root = document.documentElement;
            const reactiveTitle = document.getElementById('reactiveTitle');
            let mouseX = 0, mouseY = 0;
            let cursorX = 0, cursorY = 0;

            document.addEventListener('mousemove', (e) => {
                mouseX = e.clientX;
                mouseY = e.clientY;
                cursorDot.style.left = mouseX + 'px';
                cursorDot.style.top = mouseY + 'px';
                
                // Update Reactive Variables
                const xPct = mouseX / window.innerWidth;
                const yPct = mouseY / window.innerHeight;
                root.style.setProperty('--mouse-x', `${xPct * 100}%`);
                root.style.setProperty('--mouse-y', `${yPct * 100}%`);
                if(reactiveTitle) {
                    // Subtle animation on title
                    reactiveTitle.style.transform = `translateX(${(xPct - 0.5) * 10}px) translateY(${(yPct - 0.5) * 10}px)`;
                }
            });

            function animateCursor() {
                cursorX += (mouseX - cursorX) * 0.15;
                cursorY += (mouseY - cursorY) * 0.15;
                cursorCircle.style.left = cursorX + 'px';
                cursorCircle.style.top = cursorY + 'px';
                requestAnimationFrame(animateCursor);
            }
            animateCursor();

            const interactiveEls = document.querySelectorAll('input, button, .logo-icon, .submit-btn');
            interactiveEls.forEach(el => {
                el.addEventListener('mouseenter', () => document.body.classList.add('hovering'));
                el.addEventListener('mouseleave', () => document.body.classList.remove('hovering'));
            });

            // Add subtle hover effect to glass card
            const glassCard = document.querySelector('.glass-card');
            glassCard.addEventListener('mouseenter', () => {
                glassCard.style.boxShadow = '0 50px 100px -30px rgba(0,0,0,0.9), inset 0 0 0 1px rgba(255,255,255,0.05), 0 0 80px rgba(16, 185, 129, 0.15)';
            });
            
            glassCard.addEventListener('mouseleave', () => {
                glassCard.style.boxShadow = '0 40px 80px -20px rgba(0,0,0,0.8), inset 0 0 0 1px rgba(255,255,255,0.05), 0 0 60px rgba(16, 185, 129, 0.1)';
            });

            // --- 3. CANVAS BACKGROUND ---
            const canvas = document.getElementById('canvas-bg');
            const ctx = canvas.getContext('2d');
            let width, height;
            let particles = [];

            function resize() {
                width = canvas.width = window.innerWidth;
                height = canvas.height = window.innerHeight;
            }
            window.addEventListener('resize', resize);
            resize();

            class Particle {
                constructor() {
                    this.x = Math.random() * width;
                    this.y = Math.random() * height;
                    this.vx = (Math.random() - 0.5) * 0.5;
                    this.vy = (Math.random() - 0.5) * 0.5;
                    this.size = Math.random() * 2 + 0.5;
                    this.opacity = Math.random() * 0.5 + 0.1;
                    this.color = Math.random() > 0.8 ? 
                        `rgba(255, 215, 0, ${this.opacity})` : 
                        `rgba(16, 185, 129, ${this.opacity})`;
                }
                update() {
                    this.x += this.vx; 
                    this.y += this.vy;
                    if (this.x < 0) this.x = width; 
                    if (this.x > width) this.x = 0;
                    if (this.y < 0) this.y = height; 
                    if (this.y > height) this.y = 0;
                }
                draw() {
                    ctx.beginPath();
                    ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                    ctx.fillStyle = this.color;
                    ctx.fill();
                }
            }

            for (let i = 0; i < 80; i++) particles.push(new Particle());

            function animateCanvas() {
                ctx.clearRect(0, 0, width, height);
                for (let i = 0; i < particles.length; i++) {
                    particles[i].update();
                    particles[i].draw();
                    const dx = mouseX - particles[i].x;
                    const dy = mouseY - particles[i].y;
                    const dist = Math.sqrt(dx * dx + dy * dy);
                    if (dist < 180) {
                        ctx.beginPath();
                        ctx.strokeStyle = `rgba(16, 185, 129, ${0.25 - dist/180})`;
                        ctx.lineWidth = 1;
                        ctx.moveTo(particles[i].x, particles[i].y);
                        ctx.lineTo(mouseX, mouseY);
                        ctx.stroke();
                    }
                }
                requestAnimationFrame(animateCanvas);
            }
            animateCanvas();

            // --- 4. ANIMATION HELPERS ---
            function playSuccessSound() {
                try {
                    const AudioContext = window.AudioContext || window.webkitAudioContext;
                    if (!AudioContext) return;
                    const ctx = new AudioContext();
                    const osc = ctx.createOscillator();
                    const gain = ctx.createGain();
                    osc.type = 'sine';
                    osc.frequency.setValueAtTime(440, ctx.currentTime);
                    osc.frequency.exponentialRampToValueAtTime(880, ctx.currentTime + 0.1);
                    gain.gain.setValueAtTime(0.1, ctx.currentTime);
                    gain.gain.exponentialRampToValueAtTime(0.001, ctx.currentTime + 0.5);
                    osc.connect(gain);
                    gain.connect(ctx.destination);
                    osc.start();
                    osc.stop(ctx.currentTime + 0.5);
                } catch (e) { console.log("Audio skipped"); }
            }

            function triggerRealityEffects() {
                const bassDrop = document.getElementById('bassDrop');
                const realityCrack = document.getElementById('realityCrack');
                
                document.body.classList.add('distortion-active');
                
                // Enhanced Bass Drop Visual
                bassDrop.style.width = '120vmax'; 
                bassDrop.style.height = '120vmax'; 
                bassDrop.style.opacity = '0.6';
                bassDrop.animate([
                    {transform:'translate(-50%,-50%) scale(0)', opacity:0}, 
                    {transform:'translate(-50%,-50%) scale(1.8)', opacity:0.8},
                    {transform:'translate(-50%,-50%) scale(2)', opacity:0}
                ], {duration:1200, easing: 'cubic-bezier(0.23, 1, 0.32, 1)'});
                
                // Enhanced Crack Visual
                realityCrack.style.opacity = '0.8';
                realityCrack.animate([
                    {transform:'scale(0.5) rotate(0deg)', opacity:0}, 
                    {transform:'scale(1.5) rotate(180deg)', opacity:0.6},
                    {transform:'scale(2) rotate(360deg)', opacity:0}
                ], {duration:1800, easing: 'cubic-bezier(0.23, 1, 0.32, 1)'});

                setTimeout(() => document.body.classList.remove('distortion-active'), 2000);
            }

            // --- 5. FORM SUBMISSION ---
            const form = document.getElementById('waitlistForm');
            const btnContent = document.getElementById('btnContent');
            const loader = document.getElementById('loader');
            const statusMsg = document.getElementById('statusMsg');

            form.addEventListener('submit', async (e) => {
                e.preventDefault();
                
                // UI Loading
                btnContent.style.display = 'none';
                loader.style.display = 'block';
                statusMsg.className = 'status-msg'; 
                statusMsg.textContent = '';

                const name = document.getElementById('fullName').value.trim();
                const email = document.getElementById('email').value.trim();

                // Simple validation
                if (!name || !email) {
                    statusMsg.textContent = "Please fill in all fields";
                    statusMsg.classList.add('visible', 'error');
                    loader.style.display = 'none';
                    btnContent.style.display = 'flex';
                    return;
                }

                try {
                    // SUPABASE INSERT
                    const { error } = await supabase.from('waitlist').insert([{ name, email }]);
                    
                    if (error) {
                        if (error.code === '23505') throw new Error("You're already on the waitlist! ðŸŽ‰");
                        throw error;
                    }

                    // SUCCESS
                    playSuccessSound();
                    triggerRealityEffects();
                    
                    statusMsg.innerHTML = '<i class="fas fa-check-circle"></i> Welcome aboard! Early access granted.';
                    statusMsg.classList.add('visible', 'success');
                    
                    // Reset form after success
                    setTimeout(() => {
                        form.reset();
                    }, 2000);

                } catch (err) {
                    console.error(err);
                    statusMsg.textContent = err.message || "Connection issue. Please try again.";
                    statusMsg.classList.add('visible', 'error');
                } finally {
                    loader.style.display = 'none';
                    btnContent.style.display = 'flex';
                    
                    // Clear status message after 5 seconds
                    setTimeout(() => {
                        statusMsg.classList.remove('visible');
                    }, 5000);
                }
            });

            // Initialize Vanilla Tilt
            if (typeof VanillaTilt !== 'undefined') {
                VanillaTilt.init(document.querySelectorAll('[data-tilt]'), {
                    max: 8,
                    speed: 400,
                    glare: true,
                    'max-glare': 0.15,
                    scale: 1.02,
                    gyroscope: false
                });
            }
        });
    </script>
</body>
</html>
